<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
		/*
		 생성자함수
		 */
		var o = new Object();
		var stringObject = new String("문자열");
		var numerObject = new Number(34);
		var arrayObject = new Array();
		var dateObject = new Date();
		var studentObject = new Student();

		/*
		 학생객체를 생성해서 반환해주는 <<< 생성자함수 >>> 작성
		 */
		function Student(id, name, kor, eng, math) {
			/*
			호출 new Student('xxx','KIM',34,12,68);
			1. Object객체 생성({})
			2. 생성된 object객체(this)에 속성추가
			3. 생성된 object객체(this) 반환
			*/
			this.id = id;
			this.name = name;
			this.kor = kor;
			this.eng = eng;
			this.math = math;
			this.tot = 0;
			this.avg = 0.0;
			/*
			this.caculateTot=function(){
				this.tot=this.kor+this.eng+this.math;
			};
			this.caculateAvg=function(){
				this.avg=this.tot/3;
			};
			this.toSring=function(){
				return '['+this.id+']'+this.name+','+this.kor+','+this.eng+','+this.math+','+this.tot+','+this.avg;
			};
			*/
		}
		/************prototype[case 1]*****************
		Student.prototype객체안에 instance 메소드를 추가(모든 Student객체들이 사용하는 instance메소드를 보관하는 곳)
		- Student객체의 메소드를 호출하면 Student.prototype객체안에서 메소드를 찾아서 호출한다
		
		Student.prototype.calculateTot = function () {
			this.tot = this.kor + this.eng + this.math;
		}
		Student.prototype.calculateAvg = function () {
			this.avg = this.tot / 3;
		}
		Student.prototype.toString = function () {
			return '[' + this.id + ']' + this.name + ',' +
				this.kor + ',' + this.eng + ',' +
				this.math + ',' + this.tot + ',' + this.avg;
		}
		**********************************************/
		/************prototype[JSON][case 2]***********/
		Student.prototype={
			'calculateTot':function(){
				this.tot = this.kor + this.eng + this.math;
			},
			'calculateAvg':function(){
					this.avg = this.tot / 3;
			},
			'toString':function(){
				return '[' + this.id + ']' + this.name + ',' +
				this.kor + ',' + this.eng + ',' +
				this.math + ',' + this.tot + ',' + this.avg;
			}
			
		};

		/****************학생객체****************/
		var studentObject1 = new Student('xxx', 'KIM', 45, 89, 37);
		var studentObject2 = new Student('yyy', 'YOON', 68, 78, 95);
		var studentObject3 = new Student('zzz', 'CHOI', 100, 100, 95);
		var studentArray = [studentObject1, studentObject2, studentObject3];

		/****************학생객체****************/
	</script>
</head>

<body>
	<h1>생성자 함수4[prototype객체를 사용해서 객체 메쏘드정의]</h1>
	<hr>
	<script type="text/javascript">
		document.write('--------------student 리스트---------------------<br>');
		for (var i = 0; i < studentArray.length; i++) {
			studentArray[i].calculateTot();
			studentArray[i].calculateAvg();

			document.write(studentArray[i].toString() + "<br>");
		}
	</script>
</body>

</html>